// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using System;
using System.Collections.Generic;
using Microsoft.EntityFrameworkCore;

namespace HousingHubBackend.Models;

public partial class HousingHubDBContext : DbContext
{
    public HousingHubDBContext()
    {
    }

    public HousingHubDBContext(DbContextOptions<HousingHubDBContext> options)
        : base(options)
    {
    }

    public virtual DbSet<Amenity> Amenities { get; set; }

    public virtual DbSet<Announcement> Announcements { get; set; }

    public virtual DbSet<AnnouncementTargetFlat> AnnouncementTargetFlats { get; set; }

    public virtual DbSet<AnnouncementTargetWing> AnnouncementTargetWings { get; set; }

    public virtual DbSet<Booking> Bookings { get; set; }

    public virtual DbSet<Complaint> Complaints { get; set; }

    public virtual DbSet<Flat> Flats { get; set; }

    public virtual DbSet<MaintenanceBill> MaintenanceBills { get; set; }

    public virtual DbSet<MaintenanceFee> MaintenanceFees { get; set; }

    public virtual DbSet<Society> Societies { get; set; }

    public virtual DbSet<UserAccount> UserAccounts { get; set; }

    public virtual DbSet<Visitor> Visitors { get; set; }

    public virtual DbSet<Wing> Wings { get; set; }

    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
#warning To protect potentially sensitive information in your connection string, you should move it out of source code. You can avoid scaffolding the connection string by using the Name= syntax to read it from configuration - see https://go.microsoft.com/fwlink/?linkid=2131148. For more guidance on storing connection strings, see https://go.microsoft.com/fwlink/?LinkId=723263.
        => optionsBuilder.UseSqlServer("Data Source=housinghub.database.windows.net;Initial Catalog=HousingHubDB;Persist Security Info=True;User ID=shoebv2;Password=AAaa@9876");

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Amenity>(entity =>
        {
            entity.HasKey(e => e.AmenityId).HasName("PK__Amenity__842AF50B7EB84FAB");

            entity.HasOne(d => d.Society).WithMany(p => p.Amenities).HasConstraintName("FK__Amenity__Society__75A278F5");
        });

        modelBuilder.Entity<Announcement>(entity =>
        {
            entity.HasKey(e => e.Aid).HasName("PK__Announce__C6900628BA7F6355");

            entity.Property(e => e.CreatedAt).HasDefaultValueSql("(getdate())");

            entity.HasOne(d => d.CreatedByNavigation).WithMany(p => p.Announcements).HasConstraintName("FK__Announcem__Creat__09A971A2");

            entity.HasOne(d => d.Society).WithMany(p => p.Announcements).HasConstraintName("FK__Announcem__Socie__0A9D95DB");
        });

        modelBuilder.Entity<AnnouncementTargetFlat>(entity =>
        {
            entity.HasKey(e => e.Atfid).HasName("PK__Announce__36729D9A2DBDDDB9");

            entity.HasOne(d => d.Announcement).WithMany(p => p.AnnouncementTargetFlats).HasConstraintName("FK__Announcem__Annou__114A936A");

            entity.HasOne(d => d.Flat).WithMany(p => p.AnnouncementTargetFlats).HasConstraintName("FK__Announcem__FlatI__123EB7A3");
        });

        modelBuilder.Entity<AnnouncementTargetWing>(entity =>
        {
            entity.HasKey(e => e.Atwid).HasName("PK__Announce__3233542453C07FDD");

            entity.HasOne(d => d.Announcement).WithMany(p => p.AnnouncementTargetWings).HasConstraintName("FK__Announcem__Annou__0D7A0286");

            entity.HasOne(d => d.Wing).WithMany(p => p.AnnouncementTargetWings).HasConstraintName("FK__Announcem__WingI__0E6E26BF");
        });

        modelBuilder.Entity<Booking>(entity =>
        {
            entity.HasKey(e => e.BookingId).HasName("PK__Booking__73951AED4F45717A");

            entity.HasOne(d => d.Amenity).WithMany(p => p.Bookings).HasConstraintName("FK__Booking__Amenity__7A672E12");

            entity.HasOne(d => d.Flat).WithMany(p => p.Bookings).HasConstraintName("FK__Booking__FlatId__797309D9");

            entity.HasOne(d => d.User).WithMany(p => p.Bookings).HasConstraintName("FK__Booking__UserId__787EE5A0");
        });

        modelBuilder.Entity<Complaint>(entity =>
        {
            entity.HasKey(e => e.ComplaintId).HasName("PK__Complain__740D898F3B13E1B2");

            entity.Property(e => e.CreatedAt).HasDefaultValueSql("(getdate())");

            entity.HasOne(d => d.Flat).WithMany(p => p.Complaints).HasConstraintName("FK__Complaint__FlatI__7E37BEF6");

            entity.HasOne(d => d.RaisedByNavigation).WithMany(p => p.Complaints).HasConstraintName("FK__Complaint__Raise__7F2BE32F");
        });

        modelBuilder.Entity<Flat>(entity =>
        {
            entity.HasKey(e => e.FlatId).HasName("PK__Flat__7CD6EDB1BB73154C");

            entity.HasOne(d => d.Wing).WithMany(p => p.Flats).HasConstraintName("FK__Flat__WingId__6383C8BA");
        });

        modelBuilder.Entity<MaintenanceBill>(entity =>
        {
            entity.HasKey(e => e.Mbid).HasName("PK__Maintena__60614349CCC04449");

            entity.HasOne(d => d.Flat).WithMany(p => p.MaintenanceBills).HasConstraintName("FK__Maintenan__FlatI__71D1E811");

            entity.HasOne(d => d.MaintenanceFee).WithMany(p => p.MaintenanceBills).HasConstraintName("FK__Maintenan__Maint__72C60C4A");
        });

        modelBuilder.Entity<MaintenanceFee>(entity =>
        {
            entity.HasKey(e => e.Mfid).HasName("PK__Maintena__1B48A4016BA51903");

            entity.HasOne(d => d.CreatedByNavigation).WithMany(p => p.MaintenanceFees).HasConstraintName("FK__Maintenan__Creat__6EF57B66");

            entity.HasOne(d => d.Wing).WithMany(p => p.MaintenanceFees).HasConstraintName("FK__Maintenan__WingI__6E01572D");
        });

        modelBuilder.Entity<Society>(entity =>
        {
            entity.HasKey(e => e.SocietyId).HasName("PK__Society__2D7C79FB1DD7D137");

            entity.Property(e => e.CreatedAt).HasDefaultValueSql("(getdate())");
            entity.Property(e => e.IsVerified).HasDefaultValue(false);
        });

        modelBuilder.Entity<UserAccount>(entity =>
        {
            entity.HasKey(e => e.UserId).HasName("PK__UserAcco__1788CC4CF0816080");

            entity.Property(e => e.IsVerified).HasDefaultValue(false);

            entity.HasOne(d => d.Flat).WithMany(p => p.UserAccounts).HasConstraintName("FK__UserAccou__FlatI__693CA210");

            entity.HasOne(d => d.Society).WithMany(p => p.UserAccounts).HasConstraintName("FK__UserAccou__Socie__68487DD7");
        });

        modelBuilder.Entity<Visitor>(entity =>
        {
            entity.HasKey(e => e.VisitorId).HasName("PK__Visitor__B121AF881983AE1C");

            entity.HasOne(d => d.Flat).WithMany(p => p.Visitors).HasConstraintName("FK__Visitor__FlatId__03F0984C");

            entity.HasOne(d => d.RecordedByNavigation).WithMany(p => p.Visitors).HasConstraintName("FK__Visitor__Recorde__04E4BC85");
        });

        modelBuilder.Entity<Wing>(entity =>
        {
            entity.HasKey(e => e.WingId).HasName("PK__Wing__A0A84F8AF4D508D7");

            entity.HasOne(d => d.Society).WithMany(p => p.Wings).HasConstraintName("FK__Wing__SocietyId__60A75C0F");
        });

        OnModelCreatingPartial(modelBuilder);
    }

    partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
}